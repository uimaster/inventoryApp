<p-panel header="Users Details" class="Tabledata">
  <p-header>
    <button pButton type="button" style="float:right" icon="pi pi-plus" label="Add User" class="ui-button-success"
      (click)="addUser()"></button>
  </p-header>


  <!-- <p-progressSpinner *ngIf="showLoader"></p-progressSpinner> -->
  <form [formGroup]="userForm" (submit)="saveUser(userForm.value)" class="formData">
    <!-- <div class="message error" *ngIf="showError">{{errorMsg}}</div>
    <div class="message success" *ngIf="showSuccess">{{successMsg}}</div> -->

    <div class="ui-g">
      <div class="ui-g-3">
        <div class="form-group">
          <span class="ui-float-label">
            <input type="text" formControlName="name" pInputText id="name">
            <label for="name">Name</label>
          </span>
        </div>
      </div>
      <div class="ui-g-3">
        <div class="form-group">
          <span class="ui-float-label">
            <p-calendar [(ngModel)]="expiryDateModel" [showIcon]="true" dateFormat="dd-mm-yy"
              formControlName="expiryDate"></p-calendar>
            <label for="expiryDate">Expiry Date</label>
          </span>
        </div>
      </div>
      <div class="ui-g-3">
        <div class="form-group">
          <span class="ui-float-label">
            <input type="text" formControlName="activeStatus" pInputText id="activeStatus">
            <label for="activeStatus">Status</label>
          </span>
        </div>
      </div>
      <div class="ui-g-3">
        <div class="form-group">
          <span class="ui-float-label">
            <input type="text" formControlName="company_ID" pInputText id="company_ID">
            <label for="company_ID">Company</label>
          </span>
        </div>
      </div>
    </div>

    <ng-container *ngIf="userMasterData">

      <ng-container *ngFor="let firstLevel of userMasterData; let idx = index">
        <div>
          <p-accordion>
            <p-accordionTab [header]="firstLevel.userRightMenuName">
              <!-- <input type="text" formControlName="userRightID" />
              <input type="text" formControlName="userRightMenuName" #data />
              <input type="text" formControlName="userRightCode" />
              <input type="text" formControlName="menuStatus" />
              -->
              <p-tabView>
                <p-tabPanel *ngFor="let secondLevel of firstLevel.userRightTabModelList; let i = index"
                  [header]="secondLevel.userRightTabName" [selected]="i == 0">
                  sf{{secondLevel[i].userRightActionModelList.createStatus}}
                  <label *ngIf="createStatus">Create: <p-inputSwitch [checked]="secondLevel[i].userRightActionModelList.createStatus"></p-inputSwitch></label>
                  <label *ngIf="createStatus">Edit: <p-inputSwitch [checked]="secondLevel[i].userRightActionModelList.createStatus"></p-inputSwitch></label>
                  <label *ngIf="createStatus">Read: <p-inputSwitch [checked]="secondLevel[i].userRightActionModelList.createStatus"></p-inputSwitch></label>
                  <label *ngIf="createStatus">Delete: <p-inputSwitch [checked]="secondLevel[i].userRightActionModelList.createStatus"></p-inputSwitch></label>
                </p-tabPanel>
              </p-tabView>
            </p-accordionTab>
          </p-accordion>
        </div>
      </ng-container>
    </ng-container>


    <!-- <div formArrayName="userRights">
      <p-accordion *ngFor="let flevel of userForm.get('userRights').controls; let i = index;" [formGroupName]="i">
        <p-accordionTab [header]="data.value">

          <input type="text" formControlName="userRightID" />
          <input type="text" formControlName="userRightMenuName" #data/>
          <input type="text" formControlName="userRightCode" />
          <input type="text" formControlName="menuStatus" />

          <p-tabView>
              <p-tabPanel header="Header 1">
                 Content 1
              </p-tabPanel>
              <p-tabPanel header="Header 2">
                  Content 2
              </p-tabPanel>
              <p-tabPanel header="Header 3">
                  Content 3
              </p-tabPanel>
          </p-tabView>
        </p-accordionTab>
      </p-accordion>
    </div> -->

    <input type="submit" value="submit" />
  </form>
</p-panel>